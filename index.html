<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>√ìrg√£o.Web</title>
    <link href="./assets/lib/css/Bootstrap/4.6.2/bootstrap.min.css" rel="stylesheet">
    <link href="./assets/lib/css/Bootstrap/bootstrap-icons/1.8.1/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="./assets/css/styles.css">
    <link rel="stylesheet" href="./assets/css/bateria.css">

    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ttskch/select2-bootstrap4-theme@x.x.x/dist/select2-bootstrap4.min.css">

    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />

    <meta property="og:type" content="website">
    <meta property="og:title" content="√ìrg√£o.Web">
    <meta property="og:image" content="https://roneicostasoares.com.br/orgao.web.beta/orgaoweb.png">
</head>

<body>
    <div class="container d-flex flex-column vh-100" id="container">
        <div class="d-sm-flex mt-1 mb-1">
            <div class="d-flex w-100 align-items-center">
                <img class="button-control mr-2 dark-invert" src="./assets/icons/menu.svg" id="menuButton" data-toggle="modal" data-target="#optionsModal">

                <div class="input-group" id="tomContainer">
                    <div class="input-group-prepend">
                        <button class="btn btn-dark-cyan" id="decreaseTom">
                            <img class="icon-svg" src="./assets/icons/dash-lg.svg">
                        </button>
                    </div>
                    <select class="form-control" id="tomSelect">
                        <option value="C" selected>C</option>
                        <option value="C#">C#</option>
                        <option value="D">D</option>
                        <option value="Eb">Eb</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="F#">F#</option>
                        <option value="G">G</option>
                        <option value="Ab">Ab</option>
                        <option value="A">A</option>
                        <option value="Bb">Bb</option>
                        <option value="B">B</option>
                    </select>
                    <div class="input-group-append">
                        <button class="btn btn-dark-cyan" id="increaseTom">
                            <img class="icon-svg" src="./assets/icons/plus-lg.svg">
                        </button>
                    </div>
                </div>


                <div class="input-group drum-unified-group ml-2" id="bpm-container">
                    <div class="input-group-prepend">
                        <button class="btn btn-outline-secondary" type="button" id="decrement-bpm-5">-5</button>
                    </div>
                    <input type="text" id="bpm-input" value="90" class="form-control text-center px-1" aria-label="BPM">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button" id="increment-bpm">
                            <img class="icon-svg dark-invert" src="./assets/icons/plus.svg">
                        </button>
                        <button class="btn btn-outline-secondary" type="button" id="increment-bpm-5">+5</button>
                    </div>
                </div>
            </div>

            <div class="d-flex flex-grow-1 mt-1">
                <div class="d-flex align-items-center justify-content-between w-100">
                    <button id="selectedButton" class="btn btn-light d-none">
                    </button>
                    <div id="selectContainer">
                        <select class="form-control" id="savesSelect">
                        </select>
                    </div>
                    <input type="text" class="form-control d-none" id="itemNameInput" placeholder="Nome da M√∫sica...">

                    <button class="btn btn-primary btn-control-custom rounded-right d-none" id="saveButton">
                        <img class="icon-svg" src="./assets/icons/check.svg">
                    </button>
                    <button class="btn btn-danger btn-control-custom rounded-right d-none" id="cancelButton">
                        √ó
                    </button>

                    <button class="btn btn-control-custom btn-add rounded-right" id="addButton">
                        <img class="icon-svg" src="./assets/icons/plus-square.svg">
                    </button>
                    <button class="btn btn-control-custom btn-success rounded-0 fade d-none" id="editSavesSelect">
                        <img class="icon-svg" src="./assets/icons/pencil.svg">
                    </button>
                    <button class="btn btn-danger rounded-right-custom fade d-none" id="deleteSavesSelect">
                        <img class="icon-svg" src="./assets/icons/trash.svg">
                    </button>
                </div>
            </div>
        </div>

        <div class="mb-2 flex-grow-1">
            <iframe class="w-100 border border-secondary rounded d-none" id="liturgiaDiariaFrame" src="https://liturgiadiaria.edicoescnbb.com.br/"></iframe>
            <iframe class="w-100 border border-secondary rounded d-none" id="santamissaFrame" src="./santamissa.html"></iframe>
            <iframe class="w-100 border border-secondary rounded d-none" id="oracoesFrame" src="./oracoes.html"></iframe>
            <iframe class="w-100 border border-secondary rounded" id="iframeCifra"></iframe>

            <textarea class="modal-textarea d-none" id="editTextarea" placeholder="Editar Cifra..."></textarea>
        </div>

        <!-- Bateria -->
        <div id="bateriaWrapper" class="d-none">

            <div class="d-flex align-items-center mb-1">
                <div class="input-group flex-grow-1 mr-1">
                    <select class="form-control" id="drumStyleSelect">
                    </select>
                    <div class="input-group-append d-none" id="styleButtons">
                        <button class="btn btn-outline-secondary" type="button" id="addStyle" title="Adicionar"><i class="bi bi-plus-lg"></i></button>
                        <button class="btn btn-outline-secondary" type="button" id="editStyle" title="Editar"><i class="bi bi-pencil"></i></button>
                        <button class="btn btn-outline-secondary" type="button" id="deleteStyle" title="Excluir"><i class="bi bi-trash"></i></button>
                    </div>
                </div>

                <button class="btn btn-outline-secondary mx-1 font-weight-bold" id="bateriaInstrumentButton" aria-pressed="false" type="button" style="min-width: 90px; height: 38px;">
                    Bateria
                </button>
            </div>

            <div id="drumEditor" class="d-none">
                <div class="d-flex justify-content-between align-items-center mb-2 border-top pt-2" style="border-color: var(--drum-border) !important;">
                    <div class="input-group input-group-sm drum-unified-group" style="width: 150px;">
                        <div class="input-group-prepend">
                            <button class="btn btn-outline-secondary decrement-steps" type="button"><i class="bi bi-dash"></i></button>
                        </div>
                        <input type="text" id="num-steps" value="4" class="form-control text-center px-1" aria-label="Steps">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary increment-steps" type="button"><i class="bi bi-plus"></i></button>
                            <span class="input-group-text px-1"><small>Steps</small></span>
                        </div>
                    </div>

                    <div class="btn-group btn-group-sm" role="group">
                        <button id="save-rhythm" class="btn btn-primary" title="Salvar Ritmo">
                            <i class="bi bi-save"></i> Salvar
                        </button>
                        <button id="copy-rhythm" class="btn btn-info" title="Copiar Ritmo">
                            <i class="bi bi-files"></i> Copiar
                        </button>
                        <button id="paste-rhythm" class="btn btn-warning" title="Colar Ritmo">
                            <i class="bi bi-clipboard"></i> Colar
                        </button>
                    </div>
                </div>

                <div id="tracks">
                </div>
            </div>
        </div>

        <!-- Melody Wrapper -->
        <div id="melodyWrapper">
            <div class="d-flex align-items-center mb-1">
                <div class="input-group flex-grow-1 mr-1">
                    <select class="form-control" id="melodyStyleSelect">
                    </select>
                    <div class="input-group-append d-none" id="melodySaveControl">
                        <button class="btn btn-outline-secondary" type="button" id="addMelodyStyle" title="Adicionar"><i class="bi bi-plus-lg"></i></button>
                        <button class="btn btn-outline-secondary" type="button" id="editMelodyStyle" title="Editar"><i class="bi bi-pencil"></i></button>
                        <button class="btn btn-outline-secondary" type="button" id="deleteMelodyStyle" title="Excluir"><i class="bi bi-trash"></i></button>
                    </div>

                    <button class="btn btn-outline-secondary mx-1 font-weight-bold" id="orgaoInstrumentButton" aria-pressed="false" type="button" style="min-width: 90px; height: 38px;">
                        √ìrg√£o
                    </button>
                </div>

                <div class="input-group input-group-sm drum-unified-group d-none" id="stepsMelody" style="width: 150px;">
                    <div class="input-group-prepend">
                        <button class="btn btn-outline-secondary" type="button" id="melody-decrement-steps"><i class="bi bi-dash"></i></button>
                    </div>
                    <input type="text" id="melody-num-steps" value="8" class="form-control text-center px-1" aria-label="Steps">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button" id="melody-increment-steps"><i class="bi bi-plus"></i></button>
                        <span class="input-group-text px-1"><small>Steps</small></span>
                    </div>
                </div>

                <button id="save-melody" class="btn btn-primary btn-sm ml-1 d-none" title="Salvar Melodia">
                    <i class="bi bi-save"></i>
                </button>
            </div>

            <div id="melodyTracks" class="tracks-container d-none">
            </div>
        </div>

        <div id="draggableControls" style="transform: none; left: 25%; ">
            <div class="rhythm-buttons justify-content-center mb-2 d-none" id="rhythm-buttons">
                <button id="rhythm-a" class="btn btn-secondary rhythm-button">
                    <img class="instrument-icon-rhythm" src="./assets/icons/pratoBaqueta.svg" title="Chimbal-Fechado">
                </button>
                <button id="rhythm-b" class="btn btn-secondary rhythm-button">
                    <img class="instrument-icon-rhythm" src="./assets/icons/bumbo.svg" title="Bumbo">
                </button>
                <button id="rhythm-c" class="btn btn-secondary rhythm-button">
                    <img class="instrument-icon-rhythm" src="./assets/icons/caixa.svg" title="Caixa">
                </button>
                <button id="rhythm-d" class="btn btn-secondary rhythm-button">
                    <img class="instrument-icon-rhythm" src="./assets/icons/chimbal.svg" title="Chimbal-Aberto">
                </button>
                <button id="rhythm-e" class="btn btn-secondary rhythm-button">
                    <img class="instrument-icon-rhythm" src="./assets/icons/meiaLua.svg" title="Meia-Lua">
                </button>
            </div>

            <div class="d-flex justify-content-center align-items-center" id="controlButtons">
                <button class="btn btn-link btn-sm d-none" id="retrocederButton">
                    <img src="./assets/icons/v2/voltar.svg" class="button-control" />
                </button>
                <button class="btn-custom btn-icons pulse mx-2" data-action="play" id="playButton">
                    <img class="icon-svg" src="./assets/icons/play-fill.svg">
                </button>
                <button class="btn-custom btn-icons pulse mx-2 d-none" data-action="stop" id="stopButton">
                    <img class="icon-svg" src="./assets/icons/stop-fill.svg">
                </button>
                <button class="btn btn-link btn-sm d-none" id="avancarButton">
                    <img src="./assets/icons/v2/avancar.svg" class="button-control" />
                </button>

                <button class="btn-custom btn-icons mx-2" data-action="notes" id="notesButton">
                    <img class="icon-svg" src="./assets/icons/music-note-beamed.svg" id="music-note-beamed">
                    <img class="icon-svg d-none" src="./assets/icons/music-note.svg" id="music-note">
                </button>
            </div>
        </div>

        <!-- BOT√ïES DE ACORDES SECUND√ÅRIOS -->
        <div class="d-flex justify-content-center align-items-center">
            <button class="btn-custom btn-acordeSecundario mx-1" data-action="acorde" id="acorde9" value="Bb">Bb</button>
            <button class="btn-custom btn-acordeSecundario mx-1" data-action="acorde" id="acorde7" value="A">A</button>
            <button class="btn-custom btn-acordeSecundario mx-1" data-action="acorde" id="acorde11" value="B¬∞">B¬∞</button>
            <button class="btn-custom btn-acordeSecundario mx-1" data-action="acorde" id="acorde8" value="E">E</button>
            <button class="btn-custom btn-acordeSecundario mx-1" data-action="acorde" id="acorde10" value="D">D</button>
        </div>

        <!-- BOT√ïES DE ACORDES PRINCIPAIS -->
        <div class="d-flex justify-content-center">
            <button class="btn-custom mx-1 botao-azul" data-action="acorde" id="acorde1" value="C">C</button>
            <button class="btn-custom mx-1" data-action="acorde" id="acorde2" value="Am">Am</button>
            <button class="btn-custom mx-1" data-action="acorde" id="acorde3" value="F">F</button>
            <button class="btn-custom mx-1" data-action="acorde" id="acorde4" value="Dm">Dm</button>
            <button class="btn-custom mx-1" data-action="acorde" id="acorde5" value="G">G</button>
            <button class="btn-custom mx-1" data-action="acorde" id="acorde6" value="Em">Em</button>
        </div>

        <div class="mb-2"></div>
    </div>

    <!-- Modal options -->
    <div class="modal fade modal-left" id="optionsModal" tabindex="-1" role="dialog" aria-labelledby="optionsModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="optionsModalLabel">Menu</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">√ó</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>
                        <label class="switch mr-2 mb-0" for="darkModeToggle">
                            <input type="checkbox" id="darkModeToggle" />
                            <span class="slider"></span>
                        </label>
                    </p>
                    <!--<p><a href="#" id="oracoesEucaristicasLink">‚ö™ Ora√ß√µes Eucar√≠sticas</a></p>-->
                    <p><a href="#" id="missaOrdinarioLink">‚õ™ Ordin√°rio Santa Missa</a></p>
                    <p><a href="#" id="liturgiaDiariaLink">üìñ Liturgia Di√°ria</a></p>
                    <p><a href="#" id="oracoesLink">üôè Ora√ß√µes</a></p>

                    <p><a href="#" id="downloadSavesLink">Baixar meu Repert√≥rio</a></p>
                    <p><a href="#" id="uploadSavesLink">Importar um Repert√≥rio</a></p>
                    <p class="d-none"><a href="#" id="downloadStylesLink">Baixar Styles</a></p>
                    <p><a href="#" id="restoreLink">Restaurar</a></p>
                    <p><a href="#" id="about">Sobre este site</a></p>
                    <p><input type="text" id="volumeOrgao" value="0.8" class="form-control text-center px-1"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">√ó Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para pesquisa -->
    <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header d-flex justify-content-between align-items-center">
                    <h5 class="modal-title flex-grow-1 text-truncate text-center mx-3" id="searchModalLabel">M√∫sica</h5>
                    <button type="button" class="close ml-2" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">√ó</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="input-group">
                        <input class="form-control" placeholder="Pesquisar no CifraClub..." aria-label="Pesquisar" aria-describedby="basic-addon1" id="searchInput">
                        <button class="btn btn-danger btn-sm rounded-0" type="button" tabindex="-1" id="clearButton">
                            <img class="icon-svg" src="./assets/icons/x-circle.svg">
                        </button>
                        <button class="btn btn-primary rounded-right-custom" type="button" id="searchButton">
                            <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
                            <img class="icon-svg" src="./assets/icons/search.svg" id="searchIcon">
                        </button>
                    </div>
                    <textarea class="form-control mt-3 d-none" id="cifraDisplay" readonly></textarea>
                    <ul class="list-group mt-3 d-none" id="searchResults"></ul>
                    <ul class="list-group mt-3 d-none" id="saves"></ul>
                </div>
                <div class="modal-footer d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" id="closeButton">√ó Fechar</button>
                    <div>
                        <button type="button" class="btn btn-primary" id="tocarButton">
                            <img class="icon-svg" src="./assets/icons/check.svg"> Tocar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Custom Confirm -->
    <div class="modal fade" id="customConfirmModal" tabindex="-1" aria-labelledby="customConfirmModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="customConfirmModalLabel">Confirma√ß√£o</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">√ó</span>
                    </button>
                </div>
                <div class="modal-body" id="customConfirmModalBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>

                    <button type="button" class="btn btn-secondary ml-auto" id="btnConfirmCancel" data-bs-dismiss="modal">√ó N√£o</button>
                    <button type="button" class="btn btn-primary" id="btnConfirmAction">‚úì Sim</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Custom Alert -->
    <div class="modal fade" id="customAlertModal" tabindex="-1" aria-labelledby="customAlertModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="customAlertModalLabel">Aviso</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">√ó</span>
                    </button>
                </div>
                <div class="modal-body" id="customAlertModalBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="btnAlertDialogOK">‚úì OK</button>
                </div>
            </div>
        </div>
    </div>

    <script src="./assets/lib/js/Jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="./assets/lib/js/Bootstrap/4.6.2/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script src="./assets/js/logIntercepted.js"></script>
    <script src="./assets/js/AudioContextManager.js"></script>
    <script src="./assets/js/DraggableController.js"></script>
    <script src="./assets/js/CifraPlayer.js"></script>
    <script src="./assets/js/MusicTheory.js"></script>
    <script src="./assets/js/UIController.js"></script>
    <script src="./assets/js/LocalStorageManager.js"></script>
    <script src="./assets/js/App.js"></script>
    <script src="./assets/js/DrumMachine.js"></script>
    <script src="./assets/js/BateriaUI.js"></script>
    <script src="./assets/js/MelodyMachine.js"></script>
    <script src="./assets/js/MelodyUI.js"></script>
</body>

</html>